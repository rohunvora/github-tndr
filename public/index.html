<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Project Portfolio</title>
  <style>
    :root {
      /* Light Mode Colors - matching reference (Tailwind palette) */
      --green-text: #22C55E;
      --green-bg: #DCFCE7;
      --green-face: #22C55E;
      --blue-text: #3B82F6;
      --blue-bg: #DBEAFE;
      --blue-face: #3B82F6;
      --red-text: #EF4444;
      --red-bg: #FEE2E2;
      --red-face: #EF4444;
      
      /* Neutral colors */
      --bg: #FFFFFF;
      --bg-secondary: #F7F7F8;
      --bg-tertiary: #F0F0F2;
      --text: #1A1A1A;
      --text-secondary: #525252;
      --text-muted: #737373;
      --text-faint: #A3A3A3;
      --border: #E5E5E5;
      --card-bg: #FFFFFF;
      --count-bg: rgba(255,255,255,0.8);
      
      /* Typography */
      --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      --text-base: 15px;
      --text-sm: 13px;
      --text-xs: 11px;
      --text-lg: 17px;
      --text-xl: 20px;
      --text-2xl: 28px;
      --line-height: 1.6;
      --line-height-tight: 1.4;
      
      /* Spacing */
      --space-1: 4px;
      --space-2: 8px;
      --space-3: 12px;
      --space-4: 16px;
      --space-5: 20px;
      --space-6: 24px;
      --space-8: 32px;
      --space-10: 40px;
      
      /* Layout */
      --content-width: 720px;
      --radius: 12px;
      --radius-sm: 8px;
    }
    
    /* Dark Mode */
    [data-theme="dark"] {
      --green-text: #4ADE80;
      --green-bg: #14532D;
      --green-face: #22C55E;
      --blue-text: #60A5FA;
      --blue-bg: #1E3A5F;
      --blue-face: #3B82F6;
      --red-text: #F87171;
      --red-bg: #450A0A;
      --red-face: #EF4444;
      
      --bg: #141414;
      --bg-secondary: #1C1C1C;
      --bg-tertiary: #242424;
      --text: #E5E5E5;
      --text-secondary: #B3B3B3;
      --text-muted: #8C8C8C;
      --text-faint: #666666;
      --border: #2E2E2E;
      --card-bg: #1C1C1C;
      --count-bg: rgba(0,0,0,0.3);
    }
    
    * {
      box-sizing: border-box;
    }
    
    body {
      font-family: var(--font-sans);
      font-size: var(--text-base);
      line-height: var(--line-height);
      color: var(--text);
      background: var(--bg);
      margin: 0;
      padding: var(--space-10) var(--space-6);
      min-height: 100vh;
      transition: background 0.2s ease, color 0.2s ease;
    }
    
    .container {
      max-width: var(--content-width);
      margin: 0 auto;
    }
    
    /* Header */
    .header {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      margin-bottom: var(--space-2);
    }
    
    h1 {
      font-size: var(--text-2xl);
      font-weight: 600;
      line-height: var(--line-height-tight);
      margin: 0;
      letter-spacing: -0.02em;
    }
    
    /* Theme toggle */
    .theme-toggle {
      background: var(--bg-tertiary);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: var(--space-2) var(--space-3);
      cursor: pointer;
      font-family: var(--font-sans);
      font-size: var(--text-sm);
      color: var(--text-muted);
      display: flex;
      align-items: center;
      gap: var(--space-2);
      transition: all 0.15s ease;
    }
    .theme-toggle:hover {
      background: var(--bg-secondary);
      color: var(--text-secondary);
    }
    .theme-toggle svg {
      width: 16px;
      height: 16px;
    }
    
    .subtitle {
      font-size: var(--text-base);
      color: var(--text-muted);
      margin: 0 0 var(--space-6) 0;
    }
    
    .stats {
      font-size: var(--text-sm);
      color: var(--text-muted);
      margin-bottom: var(--space-8);
    }
    .stats strong {
      color: var(--text-secondary);
    }

    /* Section containers */
    .section {
      margin-bottom: var(--space-6);
      border-radius: var(--radius);
      overflow: hidden;
      transition: background 0.2s ease;
    }
    .section.green { background: var(--green-bg); }
    .section.blue { background: var(--blue-bg); }
    .section.red { background: var(--red-bg); }

    /* Section headers */
    .section-header {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      padding: var(--space-4) var(--space-5);
    }
    
    /* Pixel faces */
    .pixel-face {
      width: 36px;
      height: 36px;
      flex-shrink: 0;
      image-rendering: pixelated;
    }
    
    .section-title {
      flex: 1;
      min-width: 0;
    }
    .section-title h2 {
      margin: 0;
      font-size: var(--text-lg);
      font-weight: 600;
      color: var(--text);
      line-height: var(--line-height-tight);
    }
    .section-subtitle {
      font-size: var(--text-sm);
      margin-top: 2px;
      line-height: var(--line-height-tight);
    }
    .section.green .section-subtitle { color: var(--green-text); }
    .section.blue .section-subtitle { color: var(--blue-text); }
    .section.red .section-subtitle { color: var(--red-text); }
    
    .section-count {
      font-size: var(--text-sm);
      font-weight: 600;
      padding: var(--space-1) var(--space-3);
      border-radius: 100px;
      background: var(--count-bg);
      flex-shrink: 0;
    }
    .section.green .section-count { color: var(--green-text); }
    .section.blue .section-count { color: var(--blue-text); }
    .section.red .section-count { color: var(--red-text); }

    /* Table styling */
    .section-content {
      background: var(--card-bg);
      border-radius: 0 0 var(--radius) var(--radius);
      transition: background 0.2s ease;
    }
    
    table { 
      width: 100%; 
      border-collapse: collapse;
    }
    
    th, td { 
      text-align: left; 
      padding: var(--space-3) var(--space-4);
      border-bottom: 1px solid var(--border);
      vertical-align: top;
    }
    th { 
      background: var(--bg-secondary);
      font-size: var(--text-xs);
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-muted);
    }
    tr:last-child td {
      border-bottom: none;
    }
    
    /* Project cell */
    .project-name {
      font-size: var(--text-base);
      font-weight: 500;
      color: var(--text);
    }
    .project-stars {
      color: var(--text-faint);
      font-size: var(--text-sm);
      margin-left: var(--space-2);
    }
    .verdict { 
      font-size: var(--text-sm);
      color: var(--text-muted);
      margin-top: var(--space-1);
      line-height: var(--line-height);
    }
    
    /* Description cell */
    .desc {
      font-size: var(--text-sm);
      color: var(--text-secondary);
      line-height: var(--line-height);
    }

    /* Live link buttons */
    .btn-live {
      display: inline-flex;
      align-items: center;
      gap: var(--space-1);
      padding: var(--space-2) var(--space-3);
      border-radius: var(--radius-sm);
      font-size: var(--text-sm);
      font-weight: 500;
      text-decoration: none;
      transition: opacity 0.15s ease;
      white-space: nowrap;
    }
    .btn-live:hover {
      opacity: 0.85;
    }
    .section.green .btn-live {
      background: var(--green-text);
      color: white;
    }
    .section.blue .btn-live {
      background: var(--blue-text);
      color: white;
    }
    .section.red .btn-live {
      background: var(--red-text);
      color: white;
    }
    [data-theme="dark"] .btn-live {
      color: var(--bg);
    }
    .no-link {
      color: var(--text-faint);
      font-size: var(--text-sm);
    }

    /* Activity dot - green pulse for recently active */
    .activity-dot {
      display: inline-block;
      width: 8px;
      height: 8px;
      background: var(--green-text);
      border-radius: 50%;
      margin-left: var(--space-2);
      animation: pulse 2s ease-in-out infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    /* Collapsible */
    .section-toggle {
      display: none;
      width: 100%;
      padding: var(--space-3) var(--space-4);
      background: var(--card-bg);
      border: none;
      cursor: pointer;
      font-family: var(--font-sans);
      font-size: var(--text-sm);
      color: var(--text-muted);
      text-align: left;
      border-radius: 0 0 var(--radius) var(--radius);
      transition: background 0.15s ease;
    }
    .section-toggle:hover {
      background: var(--bg-secondary);
    }
    .section.collapsed .section-content {
      display: none;
    }
    .section.collapsed .section-toggle {
      display: block;
    }
    
    /* Responsive - tablet */
    @media (max-width: 768px) {
      body {
        padding: var(--space-6) var(--space-4);
      }
      
      h1 {
        font-size: var(--text-xl);
      }
      
      .section-header {
        padding: var(--space-3) var(--space-4);
      }
      
      .pixel-face {
        width: 32px;
        height: 32px;
      }
      
      .section-title h2 {
        font-size: var(--text-base);
      }
      
      th, td {
        padding: var(--space-3);
      }
      
      table, thead, tbody, th, td, tr {
        display: block;
      }
      thead {
        display: none;
      }
      tr {
        padding: var(--space-3) var(--space-4);
        border-bottom: 1px solid var(--border);
      }
      tr:last-child {
        border-bottom: none;
      }
      td {
        padding: 0;
        border: none;
      }
      td.desc {
        margin-top: var(--space-2);
      }
      td:last-child {
        margin-top: var(--space-3);
      }
    }
    
    /* Responsive - small mobile */
    @media (max-width: 480px) {
      body {
        padding: var(--space-4) var(--space-3);
      }
      
      .header {
        flex-direction: column;
        gap: var(--space-3);
      }
      
      .section-header {
        gap: var(--space-2);
        padding: var(--space-3);
      }
      
      .pixel-face {
        width: 28px;
        height: 28px;
      }
      
      .section-count {
        font-size: var(--text-xs);
        padding: 2px var(--space-2);
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Project Status</h1>
      <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
        <svg class="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="5"/>
          <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
        </svg>
        <span class="theme-label">Light</span>
      </button>
    </div>
    <p class="subtitle">What's active, what's done, what's paused.</p>

    <div class="stats">
      <strong>Summary:</strong>
      <span id="ship-count">0</span> active,
      <span id="cut-count">0</span> done,
      <span id="kill-count">0</span> paused
    </div>

    <!-- Ship Section -->
    <div class="section green" id="section-ship">
      <div class="section-header">
        <svg class="pixel-face" viewBox="0 0 16 16">
          <rect width="16" height="16" class="face-fill-green"/>
          <rect x="4" y="4" width="2" height="2" class="face-feature"/>
          <rect x="10" y="4" width="2" height="2" class="face-feature"/>
          <rect x="4" y="10" width="2" height="1" class="face-feature"/>
          <rect x="6" y="11" width="4" height="1" class="face-feature"/>
          <rect x="10" y="10" width="2" height="1" class="face-feature"/>
        </svg>
        <div class="section-title">
          <h2>Active</h2>
          <div class="section-subtitle">Currently working on these</div>
        </div>
        <span class="section-count" id="ship-badge">0</span>
      </div>
      <div class="section-content">
        <table id="table-ship">
          <thead>
            <tr>
              <th>Project</th>
              <th>Description</th>
              <th>Link</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <!-- Cut Section -->
    <div class="section blue" id="section-cut">
      <div class="section-header">
        <svg class="pixel-face" viewBox="0 0 16 16">
          <rect width="16" height="16" class="face-fill-blue"/>
          <rect x="4" y="5" width="2" height="2" class="face-feature"/>
          <rect x="10" y="5" width="2" height="2" class="face-feature"/>
          <rect x="5" y="10" width="6" height="1" class="face-feature"/>
        </svg>
        <div class="section-title">
          <h2>Done</h2>
          <div class="section-subtitle">Shipped and complete</div>
        </div>
        <span class="section-count" id="cut-badge">0</span>
      </div>
      <div class="section-content">
        <table id="table-cut">
          <thead>
            <tr>
              <th>Project</th>
              <th>Description</th>
              <th>Link</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <!-- Kill Section (collapsed by default) -->
    <div class="section red collapsed" id="section-kill">
      <div class="section-header">
        <svg class="pixel-face" viewBox="0 0 16 16">
          <rect width="16" height="16" class="face-fill-red"/>
          <rect x="4" y="5" width="2" height="2" class="face-feature"/>
          <rect x="10" y="5" width="2" height="2" class="face-feature"/>
          <rect x="5" y="11" width="6" height="1" class="face-feature"/>
          <rect x="4" y="10" width="2" height="1" class="face-feature"/>
          <rect x="10" y="10" width="2" height="1" class="face-feature"/>
        </svg>
        <div class="section-title">
          <h2>Paused</h2>
          <div class="section-subtitle">On hold for now</div>
        </div>
        <span class="section-count" id="kill-badge">0</span>
      </div>
      <button class="section-toggle" onclick="toggleSection('section-kill')">
        Show <span id="kill-toggle-count">0</span> paused projects ↓
      </button>
      <div class="section-content">
        <table id="table-kill">
          <thead>
            <tr>
              <th>Project</th>
              <th>Description</th>
              <th>Link</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </div>

  <script>
    // Theme management
    function getStoredTheme() {
      return localStorage.getItem('theme') || 'light';
    }
    
    function setTheme(theme) {
      document.documentElement.setAttribute('data-theme', theme);
      localStorage.setItem('theme', theme);
      updateThemeButton(theme);
      updatePixelFaces(theme);
    }
    
    function updateThemeButton(theme) {
      const btn = document.querySelector('.theme-toggle');
      const label = btn.querySelector('.theme-label');
      const svg = btn.querySelector('svg');
      
      if (theme === 'dark') {
        label.textContent = 'Dark';
        svg.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>';
      } else {
        label.textContent = 'Light';
        svg.innerHTML = '<circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>';
      }
    }
    
    function updatePixelFaces(theme) {
      const isDark = theme === 'dark';
      const featureColor = isDark ? '#1A1A1A' : '#1A1A1A';
      
      // Update face colors based on theme
      document.querySelectorAll('.face-fill-green').forEach(el => {
        el.setAttribute('fill', isDark ? '#5BA97A' : '#5BA97A');
      });
      document.querySelectorAll('.face-fill-blue').forEach(el => {
        el.setAttribute('fill', isDark ? '#6B8FB6' : '#6B8FB6');
      });
      document.querySelectorAll('.face-fill-red').forEach(el => {
        el.setAttribute('fill', isDark ? '#C47A7A' : '#C47A7A');
      });
      document.querySelectorAll('.face-feature').forEach(el => {
        el.setAttribute('fill', featureColor);
      });
    }
    
    function toggleTheme() {
      const current = getStoredTheme();
      setTheme(current === 'dark' ? 'light' : 'dark');
    }
    
    // Initialize theme
    setTheme(getStoredTheme());
    
    // GitHub enrichment
    const GITHUB_USER = 'rohunvora';
    const CACHE_KEY = 'github_repos_cache';
    const CACHE_TTL = 60 * 60 * 1000; // 1 hour

    async function enrichWithGitHub() {
      // Check cache first
      const cached = localStorage.getItem(CACHE_KEY);
      if (cached) {
        const { data, timestamp } = JSON.parse(cached);
        if (Date.now() - timestamp < CACHE_TTL) {
          applyGitHubData(data);
          return;
        }
      }

      try {
        const response = await fetch(`https://api.github.com/users/${GITHUB_USER}/repos?per_page=100`);
        if (!response.ok) throw new Error('Rate limited');
        const repos = await response.json();

        // Cache the response
        localStorage.setItem(CACHE_KEY, JSON.stringify({ data: repos, timestamp: Date.now() }));
        applyGitHubData(repos);
      } catch (e) {
        console.log('GitHub API unavailable, using cached/static data');
      }
    }

    function applyGitHubData(repos) {
      const repoMap = Object.fromEntries(repos.map(r => [r.name, r]));
      const sevenDaysAgo = Date.now() - (7 * 24 * 60 * 60 * 1000);

      projects.forEach(p => {
        const gh = repoMap[p.name];
        if (gh) {
          p.stars = gh.stargazers_count || 0;
          p.recentlyActive = gh.pushed_at && new Date(gh.pushed_at).getTime() > sevenDaysAgo;
        }
      });

      render(); // Re-render with live data
    }

    // Project data and rendering
    const projects = [
      // ACTIVE - currently working on
      { name: "github-tndr", desc: "AI Telegram bot — hub for all life automations & personal OS.", verdict: "The brain. Everything feeds here.", live: "https://github-tndr.vercel.app", status: "ship" },
      { name: "cursor-maxxing", desc: "Extract Cursor chat patterns into .cursorrules.", verdict: "Optimizations for vibecoders", live: "https://cursor-maxxing.vercel.app", status: "ship" },
      { name: "chart-ai", desc: "Chart analysis that's actually verifiable.", verdict: "Integrated as tool for the hub", live: "https://chart-ai.vercel.app", status: "ship" },
      { name: "taste-library", desc: "Turn your visual taste into AI-readable rules.", verdict: "My taste is edge", status: "ship" },
      { name: "tweet-price-charts", desc: "Do founder tweets move token prices?", verdict: "Not shipped yet - need story to tweet", live: "https://tweet-price-charts.vercel.app", status: "ship" },
      { name: "unfollow-bot", desc: "Bulk unfollow accounts on X.", verdict: "High potential - needs resurrection", status: "ship" },

      // DONE - shipped and complete
      { name: "my-cmc", desc: "Real-time leaderboard of crypto protocols with real buybacks.", verdict: "Shipped. Frank DeGods shared it.", live: "https://my-cmc.vercel.app", stars: 7, status: "cut" },
      { name: "kabuto-cards-dashboard", desc: "Pokemon TCG market depth analysis.", verdict: "One-time query, shipped to friends.", live: "https://kabuto-cards-dashboard.vercel.app", status: "cut" },

      // PAUSED - on hold
      { name: "cursortimer", desc: "Live ETA timer for long-running Cursor AI agent runs.", verdict: "Needs polish", status: "kill" },
      { name: "spaces-chat", desc: "Real-time chat overlay for Twitter Spaces with OBS.", verdict: "Niche but useful", status: "kill" },
      { name: "chart-predictoor", desc: "Real-time BTC prediction game.", verdict: "Fun - could go viral", live: "https://chart-pred.vercel.app", status: "kill" },
      { name: "agent-course", desc: "Learn to build AI agents from scratch.", verdict: "Finish lessons someday", status: "kill" },
      { name: "habit-snapper", desc: "Photo-proof habit tracking with AI meal analysis.", verdict: "Concepts could apply to hub", live: "https://habit-snapper.vercel.app", status: "kill" },
      { name: "course-ai", desc: "AI course generator with gamification.", verdict: "Over-engineered", live: "https://course-ai.vercel.app", stars: 1, status: "kill" },
      { name: "whop-app-ideas", desc: "Auto-generate certificates for Whop courses.", verdict: "Random free time idea", live: "https://whop-app-ideas.vercel.app", status: "kill" },
      { name: "anti-slop-library", desc: "Detect AI 'slop' aesthetic in web projects.", verdict: "Novelty project", live: "https://anti-slop-library.vercel.app", status: "kill" },
      { name: "ai-arbitrage", desc: "Turn AI model updates into business opportunities.", verdict: "Needs fresh data", live: "https://ai-arbitrage.vercel.app", status: "kill" },
      { name: "why-pump", desc: "Real-time catalyst detection for Solana tokens.", verdict: "Archived", status: "kill" },
      { name: "rohunvora", desc: "GitHub profile README.", verdict: "Not a project", status: "kill" }
    ];

    function toggleSection(id) {
      document.getElementById(id).classList.toggle('collapsed');
    }

    function render() {
      const ship = projects.filter(p => p.status === 'ship');
      const cut = projects.filter(p => p.status === 'cut');
      const kill = projects.filter(p => p.status === 'kill');

      document.getElementById('ship-count').textContent = ship.length;
      document.getElementById('cut-count').textContent = cut.length;
      document.getElementById('kill-count').textContent = kill.length;
      document.getElementById('ship-badge').textContent = ship.length;
      document.getElementById('cut-badge').textContent = cut.length;
      document.getElementById('kill-badge').textContent = kill.length;
      document.getElementById('kill-toggle-count').textContent = kill.length;

      function fillTable(id, list) {
        const tbody = document.querySelector(`#${id} tbody`);
        tbody.innerHTML = ''; // Clear for re-render
        list.forEach(p => {
          const tr = document.createElement('tr');
          const starsHtml = p.stars ? `<span class="project-stars">★${p.stars}</span>` : '';
          const activityDot = p.recentlyActive ? '<span class="activity-dot" title="Active in last 7 days"></span>' : '';
          tr.innerHTML = `
            <td>
              <span class="project-name">${p.name}</span>${starsHtml}${activityDot}
              <div class="verdict">${p.verdict}</div>
            </td>
            <td class="desc">${p.desc}</td>
            <td>${p.live ? `<a href="${p.live}" target="_blank" class="btn-live">Live →</a>` : '<span class="no-link">—</span>'}</td>
          `;
          tbody.appendChild(tr);
        });
      }

      fillTable('table-ship', ship);
      fillTable('table-cut', cut);
      fillTable('table-kill', kill);
    }

    render();
    enrichWithGitHub(); // Fetch live GitHub data (stars, activity)
  </script>
</body>
</html>
